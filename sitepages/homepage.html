<!DOCTYPE html>
<html style="background-color:#e7e7e7">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Compendium Theologica Veritatis</title>
  </head>
  <body>
    <div style="background-color:#c3c3cf;height:10%;border:1pt solid #222222">
      <form action="chapter_select.php" method="post">
        <select style="position:absolute;top:15pt;left:2%;width:10%">
          <option value="ThisShouldNotBeDone" disabled selected = "selected">
            Select Chapter
          </option>
          <option value="heading1" disabled> Heading 1</option>
          <option value="Chapter 1">Chapter 1</object>
            <option value="Chapter 2">Chapter 2</object>
              <option value="heading1" disabled> Heading 2</option>
              <option value="Chapter 3">Chapter 3</option>
              <option value="Chapter 4">Chapter 4</option>
              </select>
      </form>
      <form style="position:absolute;text-align:right;top:15pt;left:50%;width:48%" action="search_page.php">
        <input style="width:20%" type="text" name="Search" placeholder="Search">
          <input type="submit" value="?">
            </form>
      <h1 style="position:relative;top:5%;color:#000000;font-size:30;text-align:top;width:10%;left:15%;width:70%;text-align:center;font-family:Vladimir">
        COMPENDIUM THEOLOGICA VERITATIS
      </h1>
    </div>
    <br>
    <style>
      viewLeft {
        line-height:30px;
        background-color:#c3c3cf;
        height:80%;
        width:47.5%;
        float:left;
        border:1pt solid #222222;
        padding:1%;
        overflow:auto;
      }
    viewRight {
      line-height:30px;
      background-color:#c3c3cf;
      height:80%;
      width:47.5%;
      float:right;
      border:1pt solid #222222;
      padding:1%;
    }
    iframe{
      border:hidden;
    }
    .rollovericons input{
      margin: 2pt;
    }
    </style>
    <script>
      function UrlExists(url)
      {
        var http = new XMLHttpRequest();
        http.open('HEAD', url, false);
        http.send();
        return http.status!=404;
      }
    function fileExists(url) {
      if(url){
        var req = new XMLHttpRequest();
        req.open('GET', url, false);
        req.send();
        return req.status==200;
      } else {
        return false;
      }
    }
    function nextImage() {
      //store the element in var image
      var image = document.getElementById('page');
      //get directory and extension of files
      var dir="../img/";
      var ext=".jpg";
      
      //imgdata is the alt text. We set that.
      var imgData=image.alt;
      var position=parseFloat(imgData);
      var mid=""+position;
      //add the padding zeroes to mid part 1
      while(mid.length<3)mid="0"+mid;
      var position2=position+1;
      var mid2=""+position2;
      //add the padding zeroes to mid part 2
      while(mid2.length<3)mid2="0"+mid2;
      
      if (image.src.match(String(dir+mid+ext))) {
        image.src = String(dir+mid2+ext);
        image.alt = mid2;
        nextText();
        //image=document.getElementByID('page');
      } else {
        image.src = String(dir+mid+ext);
      }
    }
    function prevImage() {
      //store the element in var image
      var image = document.getElementById('page');
      //get directory and extension of files
      var dir="../img/";
      var ext=".jpg";
      
      //imgdata is the alt text. We set that.
      var imgData=image.alt;
      var position=parseFloat(imgData);
      var mid=""+position;
      //add the padding zeroes to mid part 1
      while(mid.length<3)mid="0"+mid;
      var position2=position-1;
      var mid2=""+position2;
      //add the padding zeroes to mid part 2
      while(mid2.length<3)mid2="0"+mid2;
      
      if (image.src.match(String(dir+mid+ext))&&position2>=0) {
        image.src = String(dir+mid2+ext);
        image.alt = mid2;
        nextText();
        //image=document.getElementByID('page');
      } else {
        image.src = String(dir+mid+ext);
      }
    }
    function toTranscription(){
      var image=document.getElementById('page');
      var dir="transcription/trsc_";
      var ext=".txt";
      //get the image's alt text which is the "page number" we want
      var imgData=image.alt;
      //parse a float to remove padding zeroes
      var position=parseFloat(imgData);
      //make a string
      var mid=""+position;
      //add the padding zeroes to mid
      while(mid.length<3)mid="0"+mid;
      var textView=document.getElementById('textView');
      var txtSrc=textView.src;
      var item=String(dir+mid+ext);
      textView.setAttribute('src',item);
    }
    function toTranslation(){
      var image=document.getElementById('page');
      var dir="translation/trns_";
      var ext=".txt";
      //get the image's alt text which is the "page number" we want
      var imgData=image.alt;
      //parse a float to remove padding zeroes
      var position=parseFloat(imgData);
      //make a string
      var mid=""+position;
      //add the padding zeroes to mid
      while(mid.length<3)mid="0"+mid;
      var textView=document.getElementById('textView');
      var txtSrc=textView.src;
      var item=String(dir+mid+ext);
      textView.setAttribute('src',item);
    }
    function toNotes(){
      var image=document.getElementById('page');
      var dir="note/note_";
      var ext=".txt";
      //get the image's alt text which is the "page number" we want
      var imgData=image.alt;
      //parse a float to remove padding zeroes
      var position=parseFloat(imgData);
      //make a string
      var mid=""+position;
      //add the padding zeroes to mid
      while(mid.length<3)mid="0"+mid;
      var textView=document.getElementById('textView');
      var txtSrc=textView.src;
      var item=String(dir+mid+ext);
      textView.setAttribute('src',item);
    }
    function nextText(){
      var frame=document.getElementById('textView');
      var tsrc=frame.src;
			var note=tsrc.search("note");
			var trsc=tsrc.search("trsc");
			var trns=tsrc.search("trns");
      if(note>0){
        toNotes();
      }
      else if(trsc>0){
        toTranscription();
      }
      else if(trns>0){
        toTranslation();
      }
    }
    
		function goToPage(){
      var image=document.getElementById('page');
      var text=document.getElementById('pagen');
      var dir="../img/";
      var ext=".jpg";
      var data=String(text.value);
      if(!(parseFloat(data)<0)&&!(parseFloat(data)>900)){
        while(data.length<3)data="0"+data;
        image.src=String(dir+data+ext);
        image.alt=data;
        nextText();
      }
    }
        
    function zoomIn(){
      var image=document.getElementById('page');
      var originalZoom=image.width;
      image.width=originalZoom+5;
    }
    function zoomOut(){
      
    }
      </script>
    
    <viewLeft>
      <div class="rollovericons">
        <input style="float:left;text-align:center;width:5%" onclick="prevImage()" type="Submit" value="<">
          <input style="float:left;text-align:center;width:5%" onclick="nextImage()" type="Submit" value=">">
            <input style="float:left;width:3%" type="image" onclick="zoomOut()" src="zoomOut.gif" alt="Submit">
              <input style="float:left;width:3%" type="image" onclick="zoomIn()" src="zoomIn.gif" alt="Submit">
                <input style="float:right;text-align:center" onclick="goToPage()" type="Submit" value="Go to">
                  <input style="float:right;width:10%" type="text" id="pagen" name="Search" onkeydown="if (event.keyCode == 13) goToPage()" placeholder="page#">
                    </div>
      <br>
      <div>
        <img id="page" alt="001" src="../img/001.jpg" style="width:100%;border:1pt solid black"></img>
      </div>
    </viewLeft>
    <viewRight>
      <div>
        <input style="float:center;text-align:center;width:32%" onclick="toTranscription()" type="Submit" value="Transcription">
          <input style="float:center;text-align:center;width:32%" onclick="toTranslation()" type="Submit" value="Translation">
            <input style="float:center;text-align:center;width:32%" onclick="toNotes()" type="Submit" value="Notes">
              </div>
      <!-- <div style="width:98%">
       <input style="float:right;width:5%;text-align:center;background-color:#ddc497;" type="submit" value="?">
       <input style="float:right;width:32%" type="text" name="Search" value="Search">
       </div> -->
      <iframe id="textView" src="transcription/trsc_001.txt" width="100%" height="400px"></iframe>
    </viewRight>
    
  </body>
  
</html>